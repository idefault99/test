FROM nexus.sogaz.ru/library/gradle:7.6.4-jdk17
WORKDIR /app
COPY . .
RUN gradle :communication-adapter:build -x test --parallel --info --stacktrace
RUN cp /app/communication-adapter/build/libs/communication-adapter-0.0.1.jar /app/app.jar
RUN java -Djarmode=layertools -jar /app/app.jar extract
